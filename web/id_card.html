<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.js"></script>
</head>
<style>

@font-face { font-family: Effra_Std_Md; src: url('../data/Effra-Font/Effra_Std_Md.ttf'); }
@font-face { font-family: Effra_Std_Rg; src: url('../data/Effra-Font/Effra_Std_Rg.ttf'); }

.photo {
  fill: #FFFDFF;
}

.id-text, .id-pop {
  color: #FFFDFF;
  position: absolute;
}

.id-text {
  font-family: Effra_Std_Rg, sans-serif;
}

.id-pop {
  font-family: Effra_Std_Md, sans-serif;
}

</style>

<body>

<div class='id-card-div'>
  <svg class='id-card'></svg>
</div>
</body>
<script>

function create_id_cards(colour, text_group, text_pop) {
  var h = 200,
      w = 1.6*h,
      photo_margin = 15,
      corner_radius = 15,
      photo_w = 0.3*w,
      photo_h = (3/4)*h,
      head_radius = 32,
      shoulder_radius = 37,
      head_cy = photo_margin + photo_h/3,
      font_size = 28,
      pop_font_size = 40,
      left_margin = +d3.select('body').style('margin-left').slice(0, -2),
      top_margin = +d3.select('body').style('margin-top').slice(0, -2),
      text_left = photo_margin + photo_w + left_margin + 10;

  var svg = d3.select('.id-card')
      .attr("width", w)
      .attr("height", h)
      .append("g");

  var card = svg.append('rect')
    .attr('class', 'card')
    .attr("width", w)
    .attr("height", h)
    .attr('rx', corner_radius)
    .attr('ry', corner_radius);

  var photo = svg.append('rect')
    .attr('class', 'photo')
    .attr('x', photo_margin)
    .attr('y', photo_margin)
    .attr('width', photo_w)
    .attr('height', photo_h);

  var head = svg.append('circle')
    .attr('class', 'person')
    .attr('cx', photo_margin + photo_w/2)
    .attr('cy', head_cy)
    .attr('r', head_radius);

  var body = svg.append('rect')
    .attr('class', 'person')
    .attr('x', photo_margin + 0.025*photo_w)
    .attr('y', head_cy + head_radius + 3)
    .attr('width', photo_w*0.95)
    .attr('height', photo_h)
    .attr('rx', shoulder_radius)
    .attr('ry', shoulder_radius);

  var text = d3.select('.id-card-div')
    .append('div')
    .attr('class', 'id-text')
    .style('left', text_left + 'px')
    .style('top', photo_margin + 'px')
    .style('width', (w/2) + 'px')
    .style('font-size', font_size + 'px')
    .html(text_group)

  var population = d3.select('.id-card-div')
    .append('div')
    .attr('class', 'id-pop')
    .style('left', text_left + 'px')
    .style('top', (top_margin + photo_margin + photo_h - pop_font_size) + 'px')
    .style('width', (w/2) + 'px')
    .style('font-size', pop_font_size + 'px')
    .html(text_pop);

  d3.selectAll('.card').style('fill', colour);
  d3.selectAll('.person').style('fill', colour);

}

var colours = ['#3E8FAD', '#4CADCE', '#6DCFF6', '#83C774', '#74AD69', '#949599'];

var group_text = ['JEWISH ISRAELI CITIZENS', 'PALESTINIAN CITIZENS OF ISRAEL',
  'EAST JERUSALEM PALESTINIANS', 'WEST BANK PALESTINIANS', 'GAZA STRIP PALESTINIANS',
  'PALESTINIAN EXILES'];

var pop_text = ['5.9M', '1.3M', '0.3M', '2.3M', '1.6M', '5.7M'];

var i = 5;
create_id_cards(colours[i], group_text[i], pop_text[i]);



</script>