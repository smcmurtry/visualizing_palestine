<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.js"></script>
</head>

<style>

.a {
  background-color: blue;
  margin-bottom: 500px;
}

#b {
  background-color: green;
  margin-bottom: 1000px;
}

.a, #b {
  width: 300px;
  height: 300px;
  position: static;
}

.fixed {
  position: fixed;
  top: 600px;
}

</style>

<body>

<div class='a'></div>
<div id='b'></div>

</body>

<script>



d3.select(window).on('scroll', function() {
  // console.log(x)
  var logo = document.getElementById('b');
  var viewportOffset = logo.getBoundingClientRect();

  // var viewportOffset = el.getBoundingClientRect();
  // these are relative to the viewport
  // var top = viewportOffset.top;
  // var left = viewportOffset.left;

  if (viewportOffset.top <= 600) {
    d3.select('#b')
      .style('position', 'fixed')
      .attr('class', 'fixed')
  }

  console.log("left pos.:", viewportOffset.left);
  console.log("top pos.:", viewportOffset.top);
})



</script>